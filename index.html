<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ACC Telemetry Analysis & Setup Optimization</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="container">
                <h1>ACC Telemetry Analysis & Setup Optimization</h1>
                <p class="app-subtitle">Professional Racing Engineering Tool</p>
            </div>
        </header>

        <!-- Main Content -->
        <main class="container">
            <!-- Car Selection Section -->
            <section class="card">
                <div class="card__header">
                    <h2>1. Car Selection</h2>
                </div>
                <div class="card__body">
                    <div class="form-group">
                        <label for="carSelect" class="form-label">Select ACC Car Model</label>
                        <select id="carSelect" class="form-control">
                            <option value="">Choose a car...</option>
                        </select>
                    </div>
                    <div id="carInfo" class="car-info hidden">
                        <div class="car-details-grid">
                            <div class="car-detail">
                                <span class="detail-label">Model Year:</span>
                                <span id="carYear" class="detail-value"></span>
                            </div>
                            <div class="car-detail">
                                <span class="detail-label">Class:</span>
                                <span id="carClass" class="detail-value"></span>
                            </div>
                            <div class="car-detail">
                                <span class="detail-label">Wheelbase:</span>
                                <span id="carWheelbase" class="detail-value"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Telemetry Upload Section -->
            <section class="card">
                <div class="card__header">
                    <h2>2. Telemetry Data</h2>
                </div>
                <div class="card__body">
                    <div class="upload-area" id="uploadArea">
                        <div class="upload-content">
                            <div class="upload-icon">üìä</div>
                            <p>Drag and drop your telemetry CSV file here or click to select</p>
                            <button class="btn btn--secondary" onclick="document.getElementById('fileInput').click()">Browse Files</button>
                            <input type="file" id="fileInput" accept=".csv" class="hidden">
                        </div>
                    </div>
                    <div class="upload-actions">
                        <button id="loadSampleBtn" class="btn btn--outline">Load Sample Data</button>
                        <button id="processDataBtn" class="btn btn--primary hidden">Process Data</button>
                    </div>
                    <div id="dataPreview" class="data-preview hidden">
                        <h4>Data Preview</h4>
                        <div id="previewTable"></div>
                    </div>
                </div>
            </section>

            <!-- Analysis Results Section -->
            <section id="analysisSection" class="card hidden">
                <div class="card__header">
                    <h2>3. Analysis Results</h2>
                </div>
                <div class="card__body">
                    <div class="analysis-tabs">
                        <button class="tab-btn active" data-tab="overview">Overview</button>
                        <button class="tab-btn" data-tab="telemetry">Telemetry Charts</button>
                        <button class="tab-btn" data-tab="corners">Corner Analysis</button>
                    </div>
                    
                    <!-- Overview Tab -->
                    <div id="overview" class="tab-content active">
                        <div class="metrics-grid">
                            <div class="metric-card">
                                <h4>Understeer Gradient</h4>
                                <div class="metric-value" id="understeerGradient">-</div>
                                <div class="metric-unit">deg/g</div>
                            </div>
                            <div class="metric-card">
                                <h4>Balance</h4>
                                <div class="metric-value" id="balanceFactor">-</div>
                                <div class="metric-unit">%</div>
                            </div>
                            <div class="metric-card">
                                <h4>Peak Lateral G</h4>
                                <div class="metric-value" id="peakLateralG">-</div>
                                <div class="metric-unit">g</div>
                            </div>
                            <div class="metric-card">
                                <h4>Avg Speed</h4>
                                <div class="metric-value" id="avgSpeed">-</div>
                                <div class="metric-unit">km/h</div>
                            </div>
                        </div>
                    </div>

                    <!-- Telemetry Charts Tab -->
                    <div id="telemetry" class="tab-content">
                        <div class="chart-grid">
                            <div class="chart-container" style="position: relative; height: 300px;">
                                <canvas id="telemetryChart"></canvas>
                            </div>
                            <div class="chart-container" style="position: relative; height: 300px;">
                                <canvas id="understeerChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Corner Analysis Tab -->
                    <div id="corners" class="tab-content">
                        <div id="cornersTable" class="corners-table"></div>
                    </div>
                </div>
            </section>

            <!-- Setup Recommendations Section -->
            <section id="recommendationsSection" class="card hidden">
                <div class="card__header">
                    <h2>4. Setup Recommendations</h2>
                </div>
                <div class="card__body">
                    <div class="recommendations-grid">
                        <div class="recommendation-category">
                            <h4>üèÅ Aerodynamics</h4>
                            <div id="aeroRecommendations" class="recommendations-list"></div>
                        </div>
                        <div class="recommendation-category">
                            <h4>üîß Suspension</h4>
                            <div id="suspensionRecommendations" class="recommendations-list"></div>
                        </div>
                        <div class="recommendation-category">
                            <h4>‚ö° Electronics</h4>
                            <div id="electronicsRecommendations" class="recommendations-list"></div>
                        </div>
                        <div class="recommendation-category">
                            <h4>üèéÔ∏è Tires</h4>
                            <div id="tiresRecommendations" class="recommendations-list"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Setup Tuning Section -->
            <section id="setupSection" class="card hidden">
                <div class="card__header">
                    <h2>5. Interactive Setup Tuning</h2>
                </div>
                <div class="card__body">
                    <div class="setup-tabs">
                        <button class="setup-tab-btn active" data-tab="aero">Aerodynamics</button>
                        <button class="setup-tab-btn" data-tab="suspension">Suspension</button>
                        <button class="setup-tab-btn" data-tab="electronics">Electronics</button>
                        <button class="setup-tab-btn" data-tab="tires">Tires</button>
                    </div>

                    <!-- Aero Setup -->
                    <div id="aero" class="setup-tab-content active">
                        <div class="setup-controls">
                            <div class="control-group">
                                <label>Front Splitter</label>
                                <input type="range" id="splitter" class="setup-slider" min="0" max="5" step="1" value="2">
                                <span class="control-value" id="splitterValue">2</span>
                            </div>
                            <div class="control-group">
                                <label>Rear Wing</label>
                                <input type="range" id="wing" class="setup-slider" min="0" max="12" step="1" value="6">
                                <span class="control-value" id="wingValue">6</span>
                            </div>
                        </div>
                    </div>

                    <!-- Suspension Setup -->
                    <div id="suspension" class="setup-tab-content">
                        <div class="setup-controls">
                            <div class="control-group">
                                <label>Front ARB</label>
                                <input type="range" id="ARBFront" class="setup-slider" min="0" max="30" step="1" value="15">
                                <span class="control-value" id="ARBFrontValue">15</span>
                            </div>
                            <div class="control-group">
                                <label>Rear ARB</label>
                                <input type="range" id="ARBRear" class="setup-slider" min="0" max="30" step="1" value="18">
                                <span class="control-value" id="ARBRearValue">18</span>
                            </div>
                        </div>
                    </div>

                    <!-- Electronics Setup -->
                    <div id="electronics" class="setup-tab-content">
                        <div class="setup-controls">
                            <div class="control-group">
                                <label>TC1</label>
                                <input type="range" id="tC1" class="setup-slider" min="0" max="11" step="1" value="4">
                                <span class="control-value" id="tC1Value">4</span>
                            </div>
                            <div class="control-group">
                                <label>TC2</label>
                                <input type="range" id="tC2" class="setup-slider" min="0" max="20" step="1" value="6">
                                <span class="control-value" id="tC2Value">6</span>
                            </div>
                            <div class="control-group">
                                <label>ABS</label>
                                <input type="range" id="abs" class="setup-slider" min="1" max="11" step="1" value="3">
                                <span class="control-value" id="absValue">3</span>
                            </div>
                        </div>
                    </div>

                    <!-- Tires Setup -->
                    <div id="tires" class="setup-tab-content">
                        <div class="setup-controls">
                            <div class="control-group">
                                <label>Front Left Pressure</label>
                                <input type="range" id="pressureLF" class="setup-slider" min="24.0" max="32.0" step="0.1" value="27.5">
                                <span class="control-value" id="pressureLFValue">27.5</span>
                            </div>
                            <div class="control-group">
                                <label>Front Right Pressure</label>
                                <input type="range" id="pressureRF" class="setup-slider" min="24.0" max="32.0" step="0.1" value="27.5">
                                <span class="control-value" id="pressureRFValue">27.5</span>
                            </div>
                        </div>
                    </div>

                    <div class="setup-actions">
                        <button id="resetSetupBtn" class="btn btn--outline">Reset to Default</button>
                        <button id="exportSetupBtn" class="btn btn--primary">Export Setup</button>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="app.js"></script>
</body>
</html>